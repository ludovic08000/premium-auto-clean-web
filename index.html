
<!DOCTYPE html>
<html lang="fr">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NVT9633P');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Premium Auto Clean - Détailing & Nettoyage Auto Professionnel à Charleville-Mézières et Reims</title>
    <meta name="description" content="Premium Auto Clean - Service professionnel de lavage, nettoyage et détailing automobile haut de gamme à Charleville-Mézières et Reims. Protection céramique, rénovation phares, nettoyage écologique, préparation esthétique. Intervention à domicile possible." />
    <meta name="author" content="Premium Auto Clean" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="keywords" content="nettoyage auto, lavage automobile, détailing voiture, polissage carrosserie, traitement céramique, rénovation phares, nettoyage intérieur auto, lavage auto Reims, nettoyage voiture Charleville-Mézières, lustrage automobile, désinfection habitacle, service auto à domicile, détailing haut de gamme, protection céramique automobile, nettoyage écologique voiture, préparation esthétique véhicule, Sedan, Rethel, Vouziers, Givet, Fumay, Nouzonville, Bogny-sur-Meuse, Carignan, Mouzon, Attigny, Monthermé, Vrigne-aux-Bois, Donchery, Bazeilles, Douzy, Floing, Villers-Semeuse, Prix-les-Mézières, Mohon, Gespunsart, Rocroi, Signy-l'Abbaye, Château-Porcien, Juniville, Asfeld, Sault-lès-Rethel, Vireux-Molhain, Haybes, Revin, Fismes, Bazancourt, Witry-lès-Reims, Bétheny, Cormontreuil, Tinqueux, Saint-Brice-Courcelles, Warmeriville, Taissy, Sillery, Mourmelon-le-Grand, Suippes, Verzy, Bezannes, Bourgogne, Cernay-lès-Reims, Champigny" />

    <!-- Google Search Console Verification Tag -->
    <meta name="google-site-verification" content="googlee1f0eb1692272edb" />

    <meta property="og:title" content="Premium Auto Clean - Détailing & Nettoyage Auto Professionnel à Charleville-Mézières et Reims" />
    <meta property="og:description" content="Service professionnel de lavage, nettoyage et détailing automobile haut de gamme à Charleville-Mézières et Reims. Protection céramique, nettoyage écologique, préparation esthétique et intervention à domicile." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/assets/images/premium-auto-clean-og.png" />
    <meta property="og:url" content="https://premiumautoclean.com" />
    <meta property="og:site_name" content="Premium Auto Clean" />
    <meta property="og:locale" content="fr_FR" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@premiumautoclean" />
    <meta name="twitter:image" content="/assets/images/premium-auto-clean-twitter.png" />
    <meta name="twitter:title" content="Premium Auto Clean - Détailing Auto Haut de Gamme" />
    <meta name="twitter:description" content="Nettoyage et détailing automobile de qualité à Charleville-Mézières et Reims. Protection céramique et services écologiques." />
    
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <link rel="canonical" href="https://premiumautoclean.com" />
    
    <!-- Optimisation chargement - Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" />
    <meta name="theme-color" content="#111111" />
    
    <!-- Lovable script tag for enabling new features - loaded via proxy -->
    <!-- Do not use direct CDN URL to avoid CORS issues -->
    <script type="text/javascript">
      // Preload the gptengineer.js via our proxy to avoid CORS errors
      window.addEventListener('DOMContentLoaded', function() {
        const script = document.createElement('script');
        script.type = 'module';
        script.src = '/gpt-proxy.php';
        script.onerror = function() {
          console.warn('Failed to load gptengineer.js via proxy');
        };
        document.head.appendChild(script);
      });
    </script>
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NVT9633P"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="root"></div>
    
    <!-- Chargement de script avec gestion des erreurs -->
    <script>
      // Fonction pour charger un script de façon robuste
      function loadScript(url, type = 'text/javascript') {
        return new Promise((resolve, reject) => {
          try {
            const script = document.createElement('script');
            script.type = type;
            script.src = url;
            script.async = true;
            
            // Gestionnaire de succès
            script.onload = () => {
              console.log(`Script chargé avec succès: ${url}`);
              resolve(true);
            };
            
            // Gestionnaire d'erreur avec tentative directe via XHR
            script.onerror = () => {
              console.warn(`Échec du chargement direct: ${url}, tentative via XHR...`);
              
              // Tenter de charger via XHR
              const xhr = new XMLHttpRequest();
              xhr.open('GET', url, true);
              xhr.onload = () => {
                if (xhr.status === 200) {
                  console.log(`Script récupéré via XHR: ${url}`);
                  // Vérifier si le contenu commence par <!DOCTYPE html> ou <html
                  if (xhr.responseText.trim().startsWith('<!DOCTYPE html>') || 
                      xhr.responseText.trim().startsWith('<html')) {
                    console.error(`Le contenu récupéré pour ${url} est du HTML, pas du JavaScript`);
                    reject(new Error('Invalid JavaScript content'));
                    return;
                  }
                  
                  const inlineScript = document.createElement('script');
                  inlineScript.type = type;
                  inlineScript.textContent = xhr.responseText;
                  document.body.appendChild(inlineScript);
                  resolve(true);
                } else {
                  console.error(`Échec XHR: ${url} (${xhr.status})`);
                  reject();
                }
              };
              xhr.onerror = () => {
                console.error(`Échec XHR total: ${url}`);
                reject();
              };
              xhr.send();
            };
            
            document.body.appendChild(script);
          } catch (e) {
            console.error(`Erreur lors du chargement: ${url}`, e);
            reject(e);
          }
        });
      }
      
      // Initialisation de l'application
      async function initApp() {
        try {
          // Marquer le début du chargement
          document.documentElement.classList.add('loading');
          
          // Essayer de charger les points d'entrée principaux
          const entrypoints = [
            '/dist/assets/main.js',
            '/js-proxy.php?file=/dist/assets/main.js',
            '/js-proxy.php?file=/src/main.tsx',
            '/js-proxy.php?file=/src/main.jsx'
          ];
          
          let success = false;
          for (const entry of entrypoints) {
            try {
              success = await loadScript(entry);
              if (success) {
                console.log(`Application chargée via: ${entry}`);
                document.documentElement.classList.add('js-loaded');
                document.documentElement.classList.remove('loading');
                break;
              }
            } catch (e) {
              console.warn(`Échec du point d'entrée: ${entry}`, e);
            }
          }
          
          if (!success) {
            console.error("Tous les points d'entrée ont échoué");
            document.getElementById('root').innerHTML = '<div style="padding: 20px; text-align: center;"><h2>Erreur de chargement</h2><p>L\'application n\'a pas pu être chargée. Veuillez rafraîchir la page ou contacter le support.</p></div>';
          }
        } catch (e) {
          console.error("Erreur critique d'initialisation:", e);
        }
      }
      
      // Lancer l'initialisation quand le DOM est prêt
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initApp);
      } else {
        initApp();
      }
    </script>
  </body>
</html>
