
<!DOCTYPE html>
<html lang="fr">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NVT9633P');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Premium Auto Clean - Détailing & Nettoyage Auto Professionnel à Charleville-Mézières et Reims</title>
    <meta name="description" content="Premium Auto Clean - Service professionnel de lavage, nettoyage et détailing automobile haut de gamme à Charleville-Mézières et Reims. Protection céramique, rénovation phares, nettoyage écologique, préparation esthétique. Intervention à domicile possible." />
    <meta name="author" content="Premium Auto Clean" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="keywords" content="nettoyage auto, lavage automobile, détailing voiture, polissage carrosserie, traitement céramique, rénovation phares, nettoyage intérieur auto, lavage auto Reims, nettoyage voiture Charleville-Mézières, lustrage automobile, désinfection habitacle, service auto à domicile, détailing haut de gamme, protection céramique automobile, nettoyage écologique voiture, préparation esthétique véhicule, Sedan, Rethel, Vouziers, Givet, Fumay, Nouzonville, Bogny-sur-Meuse, Carignan, Mouzon, Attigny, Monthermé, Vrigne-aux-Bois, Donchery, Bazeilles, Douzy, Floing, Villers-Semeuse, Prix-les-Mézières, Mohon, Gespunsart, Rocroi, Signy-l'Abbaye, Château-Porcien, Juniville, Asfeld, Sault-lès-Rethel, Vireux-Molhain, Haybes, Revin, Fismes, Bazancourt, Witry-lès-Reims, Bétheny, Cormontreuil, Tinqueux, Saint-Brice-Courcelles, Warmeriville, Taissy, Sillery, Mourmelon-le-Grand, Suippes, Verzy, Bezannes, Bourgogne, Cernay-lès-Reims, Champigny" />

    <!-- Google Search Console Verification Tag -->
    <meta name="google-site-verification" content="googlee1f0eb1692272edb" />

    <meta property="og:title" content="Premium Auto Clean - Détailing & Nettoyage Auto Professionnel à Charleville-Mézières et Reims" />
    <meta property="og:description" content="Service professionnel de lavage, nettoyage et détailing automobile haut de gamme à Charleville-Mézières et Reims. Protection céramique, nettoyage écologique, préparation esthétique et intervention à domicile." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/assets/images/premium-auto-clean-og.png" />
    <meta property="og:url" content="https://premiumautoclean.com" />
    <meta property="og:site_name" content="Premium Auto Clean" />
    <meta property="og:locale" content="fr_FR" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@premiumautoclean" />
    <meta name="twitter:image" content="/assets/images/premium-auto-clean-twitter.png" />
    <meta name="twitter:title" content="Premium Auto Clean - Détailing Auto Haut de Gamme" />
    <meta name="twitter:description" content="Nettoyage et détailing automobile de qualité à Charleville-Mézières et Reims. Protection céramique et services écologiques." />
    
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <link rel="canonical" href="https://premiumautoclean.com" />
    
    <!-- Optimisation chargement - Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" />
    <meta name="theme-color" content="#111111" />
    
    <!-- Script Lovable - IMPORTANT: Ne pas supprimer -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    
    <!-- Système amélioré de chargement Lovable -->
    <script>
      // Configuration pour la gestion des scripts
      window.scriptConfig = {
        lovableLoaded: false,
        attempts: 0,
        maxAttempts: 3,
        proxyPath: '/gpt-proxy.php',
        directPath: 'https://cdn.gpteng.co/gptengineer.js'
      };
      
      // Fonction pour charger le script Lovable - Version robuste avec gestion d'erreurs
      function loadLovableScript(src, useProxy = false) {
        return new Promise((resolve, reject) => {
          // Si déjà chargé, ne pas recharger
          if (window.scriptConfig.lovableLoaded) {
            resolve(true);
            return;
          }
          
          const script = document.createElement('script');
          script.type = 'module';
          script.src = src;
          
          // Gestionnaires d'événements
          script.onload = function() {
            console.info(`Lovable chargé avec succès via ${useProxy ? 'proxy' : 'CDN'}`);
            window.scriptConfig.lovableLoaded = true;
            resolve(true);
          };
          
          script.onerror = function(e) {
            console.warn(`Échec du chargement via ${useProxy ? 'proxy' : 'CDN'}`, e);
            reject(new Error(`Échec du chargement de ${src}`));
          };
          
          document.head.appendChild(script);
        });
      }
      
      // Système de chargement avec tentatives multiples
      async function initLovable() {
        // Première tentative via CDN
        try {
          await loadLovableScript(window.scriptConfig.directPath);
          return; // Si réussi, on sort
        } catch (e) {
          console.warn('Échec de chargement via CDN, tentative via proxy...');
        }
        
        // Deuxième tentative via proxy
        try {
          await loadLovableScript(window.scriptConfig.proxyPath, true);
          return; // Si réussi, on sort
        } catch (e) {
          console.error('Échec total du chargement du script Lovable');
        }
      }
      
      // Lancer le processus de chargement
      initLovable().catch(e => {
        console.error('Erreur d\'initialisation:', e);
      });
    </script>
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NVT9633P"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="root"></div>
    
    <!-- Chargement des scripts de l'application avec gestion améliorée des erreurs -->
    <script type="module">
      // Configuration de chargement
      window.appConfig = {
        mainScriptLoaded: false,
        entryPoints: [
          // Script principal direct
          '/src/main.tsx',
          '/src/main.jsx',
          // Toujours utiliser le proxy PHP en second recours
          '/js-proxy.php?file=/src/main.tsx',
          '/js-proxy.php?file=/src/main.jsx',
          '/js-proxy.php?file=/main.tsx',
          '/js-proxy.php?file=/main.jsx',
          // Chemins distribués en dernier recours
          '/dist/assets/index.js',
          '/dist/assets/main.js'
        ],
        currentAttempt: 0
      };
      
      // Fonction pour charger un script avec promesse et gestion d'erreurs
      function loadScript(url) {
        return new Promise((resolve, reject) => {
          const script = document.createElement('script');
          script.type = 'module';
          script.src = url;
          
          script.onload = () => {
            console.info(`Script chargé avec succès: ${url}`);
            resolve(true);
          };
          
          script.onerror = () => {
            console.warn(`Échec du chargement: ${url}`);
            reject(new Error(`Échec du chargement de ${url}`));
          };
          
          document.body.appendChild(script);
        });
      }
      
      // Fonction pour charger l'application avec plusieurs tentatives
      async function loadApp() {
        document.documentElement.classList.add('loading');
        
        // Essayer chaque point d'entrée séquentiellement
        for (const entrypoint of window.appConfig.entryPoints) {
          try {
            window.appConfig.currentAttempt++;
            console.info(`Tentative ${window.appConfig.currentAttempt}/${window.appConfig.entryPoints.length}: ${entrypoint}`);
            
            await loadScript(entrypoint);
            
            // Si on arrive ici, le chargement a réussi
            console.info(`Application chargée via: ${entrypoint}`);
            document.documentElement.classList.add('js-loaded');
            document.documentElement.classList.remove('loading');
            window.appConfig.mainScriptLoaded = true;
            return true;
          } catch (e) {
            console.warn(`Échec de l'entrée ${entrypoint}:`, e);
          }
        }
        
        // Si toutes les tentatives échouent
        console.error("Échec de chargement de l'application après toutes les tentatives");
        document.getElementById('root').innerHTML = `
          <div style="padding: 30px; text-align: center; font-family: sans-serif;">
            <h2>Problème de chargement</h2>
            <p>L'application n'a pas pu être chargée. Veuillez rafraîchir la page ou contacter le support technique.</p>
            <button onclick="window.location.reload()" style="padding: 10px 20px; background: #333; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 15px;">Rafraîchir la page</button>
          </div>
        `;
        return false;
      }
      
      // Lancer le chargement quand le DOM est prêt
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadApp);
      } else {
        loadApp();
      }
    </script>
  </body>
</html>
